{# filepath: c:\Users\sonbx\firewall-controller\server\templates\dashboard.html #}
{% extends "base.html" %}

{% block title %}Dashboard - Firewall Controller{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
{% endblock %}

{% block content %}
<!-- Hero Section -->
<div class="hero-section">
    <div class="hero-content">
        <h1 class="display-4 fw-bold mb-4">
            <i class="fas fa-shield-alt me-3"></i>
            Firewall Controller
        </h1>
        <p class="lead mb-4">
            Advanced network security management with real-time monitoring and intelligent threat detection
        </p>
        <div class="d-flex justify-content-center align-items-center">
            <span class="pulse-dot"></span>
            <span class="fw-semibold">System Status: Active & Monitoring</span>
        </div>
    </div>
</div>

<!-- Status Cards -->
<div class="row mb-5">
    <div class="col-xl-3 col-md-6 mb-4">
        <div class="card status-card border-start-primary">
            <div class="card-body">
                <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                        <div class="stat-label text-primary">
                            Total Logs
                        </div>
                        <div class="stat-number">
                            {{ stats.total_logs or 0 }}
                        </div>
                    </div>
                    <div class="col-auto">
                        <i class="fas fa-clipboard-list status-icon text-primary"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-xl-3 col-md-6 mb-4">
        <div class="card status-card border-start-success">
            <div class="card-body">
                <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                        <div class="stat-label text-success">
                            Allowed Requests
                        </div>
                        <div class="stat-number text-success">
                            {{ stats.allowed_count or 0 }}
                        </div>
                    </div>
                    <div class="col-auto">
                        <i class="fas fa-check-circle status-icon text-success"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-xl-3 col-md-6 mb-4">
        <div class="card status-card border-start-danger">
            <div class="card-body">
                <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                        <div class="stat-label text-danger">
                            Blocked Threats
                        </div>
                        <div class="stat-number text-danger">
                            {{ stats.blocked_count or 0 }}
                        </div>
                    </div>
                    <div class="col-auto">
                        <i class="fas fa-shield-alt status-icon text-danger"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-xl-3 col-md-6 mb-4">
        <div class="card status-card border-start-info">
            <div class="card-body">
                <div class="row no-gutters align-items-center">
                    <div class="col mr-2">
                        <div class="stat-label text-info">
                            Active Agents
                        </div>
                        <div class="stat-number text-info">
                            {{ stats.active_agents or 0 }}
                        </div>
                    </div>
                    <div class="col-auto">
                        <i class="fas fa-laptop-code status-icon text-info"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Feature Cards -->
<div class="feature-grid">
    <!-- Quick Actions Card -->
    <div class="feature-card">
        <div class="feature-icon primary">
            <i class="fas fa-bolt"></i>
        </div>
        <h5 class="fw-bold mb-3">Quick Actions</h5>
        <p class="text-muted mb-4">Manage your firewall system with these essential tools</p>
        <div class="d-grid gap-2">
            <a href="/agents" class="btn btn-outline-primary">
                <i class="fas fa-desktop me-2"></i>Manage Agents
            </a>
            <a href="/whitelist" class="btn btn-outline-success">
                <i class="fas fa-list me-2"></i>Manage Whitelist
            </a>
            <a href="/logs" class="btn btn-outline-info">
                <i class="fas fa-file-alt me-2"></i>View Logs
            </a>
        </div>
    </div>

    <!-- System Information Card -->
    <div class="feature-card">
        <div class="feature-icon success">
            <i class="fas fa-server"></i>
        </div>
        <h5 class="fw-bold mb-3">System Information</h5>
        <p class="text-muted mb-4">Current system configuration and status</p>
        <div class="info-item">
            <i class="fas fa-code-branch text-primary"></i>
            <h6>Version</h6>
            <p>Firewall Controller v1.0.0</p>
        </div>
        <div class="info-item">
            <i class="fas fa-database text-success"></i>
            <h6>Database</h6>
            <p>MongoDB Connected</p>
        </div>
    </div>

    <!-- Security Status Card -->
    <div class="feature-card">
        <div class="feature-icon info">
            <i class="fas fa-shield-alt"></i>
        </div>
        <h5 class="fw-bold mb-3">Security Status</h5>
        <p class="text-muted mb-4">Real-time security monitoring and protection</p>
        <div class="info-item">
            <i class="fas fa-eye text-info"></i>
            <h6>Monitoring</h6>
            <p>Real-time traffic analysis active</p>
        </div>
        <div class="info-item">
            <i class="fas fa-bolt text-warning"></i>
            <h6>Real-time Updates</h6>
            <p>Socket.IO WebSocket connection</p>
        </div>
    </div>

    <!-- Performance Metrics Card -->
    <div class="feature-card">
        <div class="feature-icon warning">
            <i class="fas fa-chart-line"></i>
        </div>
        <h5 class="fw-bold mb-3">Performance Metrics</h5>
        <p class="text-muted mb-4">System performance and usage statistics</p>
        <div class="info-item">
            <i class="fas fa-tachometer-alt text-primary"></i>
            <h6>Response Time</h6>
            <p>< 50ms average response</p>
        </div>
        <div class="info-item">
            <i class="fas fa-memory text-success"></i>
            <h6>Memory Usage</h6>
            <p>Optimized for performance</p>
        </div>
    </div>
</div>

<!-- Modern Alert Section -->
<div class="row mt-5">
    <div class="col-12">
        <div class="alert alert-success d-flex align-items-center" role="alert" style="border: none; border-radius: 15px; background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%); border-left: 5px solid #28a745;">
            <i class="fas fa-check-circle fa-2x me-3 text-success"></i>
            <div>
                <h6 class="alert-heading fw-bold mb-1">System Operational</h6>
                <p class="mb-0">All firewall components are running smoothly. Network protection is active and monitoring traffic in real-time.</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
{% endblock %}
